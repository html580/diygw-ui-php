import{A as D,u as P,a as O,e as a,b}from"./index-5e2104fc.js";import{d as R,e as H,_ as I,j as L,G as N,f as g,ag as S,Q as j,W as q,u as m,o as F,c as z,V as p,P as A,O as Q,S as $,J as G,aQ as w}from"./@vue-110897a1.js";import{s as f}from"./pinia-cd41b998.js";import"./vue-router-17193735.js";import"./vue-i18n-c25bb36f.js";import"./@intlify-d9393dcf.js";import"./vue-cc729cf0.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-ff880098.js";import"./nprogress-28073a82.js";import"./axios-28bc18a3.js";import"./element-plus-28d330eb.js";import"./lodash-es-21c98b27.js";import"./@vueuse-0a258a1c.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-816b3f93.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-72afddb3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";import"./lodash-9a19cd29.js";import"./mitt-f7ef348c.js";import"./@wangeditor-231513dc.js";import"./vue-grid-layout-2853dde1.js";const J={class:"h100"},K=R({name:"layoutAside"}),Se=R({...K,setup(U){const M=w(()=>b(()=>import("./index-b4c65f6c.js"),["assets/js/index-b4c65f6c.js","assets/js/pinia-cd41b998.js","assets/js/@vue-110897a1.js","assets/js/index-5e2104fc.js","assets/js/vue-router-17193735.js","assets/js/vue-i18n-c25bb36f.js","assets/js/@intlify-d9393dcf.js","assets/js/vue-cc729cf0.js","assets/js/js-cookie-edb2da2a.js","assets/js/@element-plus-ff880098.js","assets/js/nprogress-28073a82.js","assets/css/nprogress-771398e6.css","assets/js/axios-28bc18a3.js","assets/js/element-plus-28d330eb.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-0a258a1c.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-816b3f93.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-72afddb3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-432baded.js","assets/js/lodash-9a19cd29.js","assets/js/mitt-f7ef348c.js","assets/js/@wangeditor-231513dc.js","assets/css/@wangeditor-501cf061.css","assets/js/vue-grid-layout-2853dde1.js","assets/css/index-787ab40d.css","assets/js/logo-mini-6ae2f3e7.js","assets/css/index-7b113339.css"])),T=w(()=>b(()=>import("./vertical-e674b746.js"),["assets/js/vertical-e674b746.js","assets/js/index-5e2104fc.js","assets/js/@vue-110897a1.js","assets/js/pinia-cd41b998.js","assets/js/vue-router-17193735.js","assets/js/vue-i18n-c25bb36f.js","assets/js/@intlify-d9393dcf.js","assets/js/vue-cc729cf0.js","assets/js/js-cookie-edb2da2a.js","assets/js/@element-plus-ff880098.js","assets/js/nprogress-28073a82.js","assets/css/nprogress-771398e6.css","assets/js/axios-28bc18a3.js","assets/js/element-plus-28d330eb.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-0a258a1c.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-816b3f93.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-72afddb3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-432baded.js","assets/js/lodash-9a19cd29.js","assets/js/mitt-f7ef348c.js","assets/js/@wangeditor-231513dc.js","assets/css/@wangeditor-501cf061.css","assets/js/vue-grid-layout-2853dde1.js","assets/css/index-787ab40d.css"])),r=H(),v=D(),B=P(),E=O(),{routesList:y}=f(v),{themeConfig:o}=f(B),{isTagsViewCurrenFull:V}=f(E),l=I({menuList:[],clientWidth:0}),W=L(()=>{const{layout:e,isCollapse:t,menuBar:s}=o.value,i=["#FFFFFF","#FFF","#fff","#ffffff"].includes(s)?"layout-el-aside-br-color":"";if(l.clientWidth<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const x=document.querySelector(".layout-container"),d=document.createElement("div");return d.setAttribute("class","layout-aside-mobile-mode"),x.appendChild(d),d.addEventListener("click",u),[i,"layout-aside-mobile","layout-aside-mobile-open"]}else return u(),[i,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"||e==="classic"?t?[i,"layout-aside-pc-1"]:[i,"layout-aside-pc-220"]:t?[i,"layout-aside-pc-64"]:[i,"layout-aside-pc-220"]}),k=L(()=>{let{layout:e,isShowLogo:t}=o.value;return t&&e==="defaults"||t&&e==="columns"}),u=()=>{const e=document.querySelector(".layout-aside-mobile-mode");e==null||e.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var s;(s=e==null?void 0:e.parentNode)==null||s.removeChild(e)},300),document.body.clientWidth<1e3&&(o.value.isCollapse=!1),document.body.setAttribute("class","")},c=()=>{if(o.value.layout==="columns")return!1;l.menuList=h(y.value)},h=e=>e.filter(t=>{var s;return!((s=t.meta)!=null&&s.isHide)}).map(t=>(t=Object.assign({},t),t.children&&(t.children=h(t.children)),t)),_=e=>{l.clientWidth=e},C=e=>{let{layout:t}=o.value;if(t!=="columns")return!1;e||a.emit("restoreDefault"),o.value.isColumnsMenuHoverPreload&&v.setColumnsMenuHover(e)};return N(()=>{_(document.body.clientWidth),c(),a.on("setSendColumnsChildren",e=>{l.menuList=e.children}),a.on("setSendClassicChildren",e=>{let{layout:t,isClassicSplitMenu:s}=o.value;t==="classic"&&s&&(e.children.length<=1?o.value.isCollapse=!0:o.value.isCollapse=!1,l.menuList=[],l.menuList=e.children)}),a.on("getBreadcrumbIndexSetFilterRoutes",()=>{c()}),a.on("layoutMobileResize",e=>{_(e.clientWidth),u()})}),g(()=>[o.value.isShowLogoChange,o.value.isShowLogo,o.value.layout,o.value.isClassicSplitMenu],([e,t,s,n])=>{if(e!==t&&r.value&&r.value.update(),s==="classic"&&n)return!1}),g(()=>y.value,()=>{c()}),(e,t)=>{const s=S("el-scrollbar"),n=S("el-aside");return j((F(),z("div",J,[p(n,{class:G(["layout-aside",W.value])},{default:A(()=>[k.value?(F(),Q(m(M),{key:0})):$("",!0),p(s,{class:"flex-auto",ref_key:"layoutAsideScrollbarRef",ref:r,onMouseenter:t[0]||(t[0]=i=>C(!0)),onMouseleave:t[1]||(t[1]=i=>C(!1))},{default:A(()=>[p(m(T),{menuList:l.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[q,!m(V)]])}}});export{Se as default};
