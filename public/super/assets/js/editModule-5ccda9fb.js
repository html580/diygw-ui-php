import{h as v,i as B,_ as I}from"./index-5e2104fc.js";import{a as C}from"./element-plus-28d330eb.js";import{h as S,e as U,_ as E,$ as O,u as R,ag as a,aq as q,o as F,c as g,V as t,P as l,Q as M,T as f,U as D,a as w,F as L,a8 as P,O as T}from"./@vue-110897a1.js";import"./pinia-cd41b998.js";import"./vue-router-17193735.js";import"./vue-i18n-c25bb36f.js";import"./@intlify-d9393dcf.js";import"./vue-cc729cf0.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-ff880098.js";import"./nprogress-28073a82.js";import"./axios-28bc18a3.js";import"./lodash-9a19cd29.js";import"./mitt-f7ef348c.js";import"./@wangeditor-231513dc.js";import"./vue-grid-layout-2853dde1.js";import"./lodash-es-21c98b27.js";import"./@vueuse-0a258a1c.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-816b3f93.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-72afddb3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";const $={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:r}=S(),u=U(null),e=E({isShowDialog:!1,loading:!1,ruleForm:{postId:0,postName:"",postCode:"",orderNum:0,status:"",remark:""},statusOptions:[],deptOptions:[],ruleRules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}),p=o=>{o.postId&&o.postId!=null&&o.postId!=0?(e.ruleForm=o,e.ruleForm.postId=o.postId,e.ruleForm.postName=o.postName,e.ruleForm.postCode=o.postCode,e.ruleForm.orderNum=o.orderNum,e.ruleForm.status=o.status,e.ruleForm.remark=o.remark):m(),e.isShowDialog=!0,e.loading=!1,r.getDicts("sys_normal_disable").then(d=>{e.statusOptions=d.rows})},n=o=>{r.mittBus.emit("onEditPostModule",o),e.isShowDialog=!1},c=()=>{n()},i=()=>{const o=R(u);o&&o.validate(d=>{d&&(e.loading=!0,e.ruleForm.postId!=null&&e.ruleForm.postId!=0?v("/sys/post",e.ruleForm).then(_=>{C.success("修改成功"),e.loading=!1,n(e.ruleForm)}):B("/sys/post",e.ruleForm).then(_=>{C.success("新增成功"),e.loading=!1,n(e.ruleForm)}))})},m=()=>{e.ruleForm.postId=0,e.ruleForm.postName="",e.ruleForm.postCode="",e.ruleForm.orderNum=0,e.ruleForm.status="0",e.ruleForm.remark=""};return{ruleFormRef:u,openDialog:p,closeDialog:n,onCancel:c,initForm:m,onSubmit:i,...O(e)}}},z={class:"system-menu-container"},A={style:{"font-size":"large"}},Q={class:"dialog-footer"};function W(r,u,e,p,n,c){const i=a("el-input"),m=a("el-form-item"),o=a("el-col"),d=a("el-input-number"),_=a("el-radio"),b=a("el-radio-group"),N=a("el-row"),k=a("el-form"),V=a("el-button"),y=a("el-dialog"),h=q("drag");return F(),g("div",z,[t(y,{modelValue:r.isShowDialog,"onUpdate:modelValue":u[5]||(u[5]=s=>r.isShowDialog=s),width:"769px",center:""},{title:l(()=>[M((F(),g("div",A,[f(D(e.title),1)])),[[h,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:l(()=>[w("span",Q,[t(V,{onClick:p.onCancel},{default:l(()=>[f("取 消")]),_:1},8,["onClick"]),t(V,{type:"primary",onClick:p.onSubmit,loading:r.loading},{default:l(()=>[f("编 辑")]),_:1},8,["onClick","loading"])])]),default:l(()=>[t(k,{model:r.ruleForm,rules:r.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:l(()=>[t(N,{gutter:35},{default:l(()=>[t(o,{span:24},{default:l(()=>[t(m,{label:"岗位名称",prop:"postName"},{default:l(()=>[t(i,{modelValue:r.ruleForm.postName,"onUpdate:modelValue":u[0]||(u[0]=s=>r.ruleForm.postName=s),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"岗位编码",prop:"postCode"},{default:l(()=>[t(i,{modelValue:r.ruleForm.postCode,"onUpdate:modelValue":u[1]||(u[1]=s=>r.ruleForm.postCode=s),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"岗位顺序",prop:"orderNum"},{default:l(()=>[t(d,{modelValue:r.ruleForm.orderNum,"onUpdate:modelValue":u[2]||(u[2]=s=>r.ruleForm.orderNum=s),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"岗位状态",prop:"status"},{default:l(()=>[t(b,{modelValue:r.ruleForm.status,"onUpdate:modelValue":u[3]||(u[3]=s=>r.ruleForm.status=s)},{default:l(()=>[(F(!0),g(L,null,P(r.statusOptions,s=>(F(),T(_,{key:s.dictValue,label:s.dictValue},{default:l(()=>[f(D(s.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(o,{span:24},{default:l(()=>[t(m,{label:"备注",prop:"remark"},{default:l(()=>[t(i,{modelValue:r.ruleForm.remark,"onUpdate:modelValue":u[4]||(u[4]=s=>r.ruleForm.remark=s),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const ce=I($,[["render",W]]);export{ce as default};
