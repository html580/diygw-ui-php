import{d as ne,h as ie,e as P,_ as re,$ as se,i as de,Z as ce,ag as n,aq as N,o as c,c as S,V as e,P as t,u as i,a9 as q,F as ue,a8 as pe,O as f,T as u,Q as g,a as B,U as I,S as me,W as _e}from"./@vue-110897a1.js";import{_ as fe}from"./editModule.vue_vue_type_script_setup_true_lang-4d061e55.js";import{_ as ge}from"./dictList.vue_vue_type_script_setup_true_lang-61ca0fe7.js";import{l as ye,k as he,n as be}from"./index-5e2104fc.js";import{E as M,a as we}from"./element-plus-28d330eb.js";import"./editDictItem.vue_vue_type_script_setup_true_lang-c00689d8.js";import"./pinia-cd41b998.js";import"./vue-router-17193735.js";import"./vue-i18n-c25bb36f.js";import"./@intlify-d9393dcf.js";import"./vue-cc729cf0.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-ff880098.js";import"./nprogress-28073a82.js";import"./axios-28bc18a3.js";import"./lodash-9a19cd29.js";import"./mitt-f7ef348c.js";import"./@wangeditor-231513dc.js";import"./vue-grid-layout-2853dde1.js";import"./lodash-es-21c98b27.js";import"./@vueuse-0a258a1c.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-816b3f93.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-72afddb3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";const ve={class:"container"},Xe=ne({__name:"index",setup(Ce){const{proxy:b}=ie(),w=P(),k=P(),l=re({loading:!0,ids:[],single:!0,multiple:!0,title:"",tableData:[],total:0,statusOptions:[{dictValue:"0",dictLabel:"正常"},{dictValue:"1",dictLabel:"禁用"}],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},dictItemForm:[]}),{loading:E,multiple:z,title:R,tableData:$,total:x,statusOptions:O,queryParams:s}=se(l),d=()=>{l.loading=!0,ye("/sys/dict",l.queryParams).then(a=>{l.tableData=a.rows,l.total=a.total,l.loading=!1})},F=()=>{l.queryParams.dictName=void 0,l.queryParams.dictType=void 0,l.queryParams.status=void 0,d()},L=a=>b.selectDictLabel(l.statusOptions,a.status),U=a=>{a=[],l.title="添加字典",w.value.openDialog(a)},K=a=>{l.title="修改字典",w.value.openDialog(a)},T=a=>{const r=a.dictId||l.ids;M({message:'是否确认删除字典编号为"'+r+'"的数据项?',title:"警告",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return he("/sys/dict",r).then(()=>{d(),we.success("删除成功")})})},Q=a=>{l.ids=a.map(r=>r.dictId),l.single=a.length!=1,l.multiple=!a.length},j=a=>{l.queryParams.pageSize=a,d()},A=a=>{l.queryParams.pageNum=a,d()},D=a=>{k.value.openDrawer(a)},W=()=>{const a=l.queryParams;M({message:"是否确认导出所有类型数据项?",title:"警告",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return be("/sys/dict",a)})};return de(()=>{d(),b.mittBus.on("onEditPostModule",()=>{d()})}),ce(()=>{b.mittBus.off("onEditPostModule")}),(a,r)=>{const V=n("el-input"),h=n("el-form-item"),Z=n("el-option"),G=n("el-select"),p=n("SvgIcon"),m=n("el-button"),H=n("el-form"),v=n("el-col"),J=n("el-row"),_=n("el-table-column"),X=n("el-link"),Y=n("el-tag"),ee=n("el-table"),te=n("el-divider"),ae=n("el-pagination"),oe=n("el-card"),y=N("auth"),le=N("loading");return c(),S("div",ve,[e(oe,{shadow:"always"},{default:t(()=>[e(H,{model:i(s),ref:"queryForm",inline:!0,"label-width":"68px"},{default:t(()=>[e(h,{label:"字典名称",prop:"dictName"},{default:t(()=>[e(V,{placeholder:"请输入字典名称模糊查询",clearable:"",onKeyup:q(d,["enter"]),style:{width:"240px"},modelValue:i(s).dictName,"onUpdate:modelValue":r[0]||(r[0]=o=>i(s).dictName=o)},null,8,["modelValue"])]),_:1}),e(h,{label:"字典类型",prop:"dictType"},{default:t(()=>[e(V,{modelValue:i(s).dictType,"onUpdate:modelValue":r[1]||(r[1]=o=>i(s).dictType=o),placeholder:"请输入字典类型模糊查询",clearable:"",style:{width:"240px"},onKeyup:q(d,["enter"])},null,8,["modelValue"])]),_:1}),e(h,{label:"状态",prop:"status"},{default:t(()=>[e(G,{modelValue:i(s).status,"onUpdate:modelValue":r[2]||(r[2]=o=>i(s).status=o),placeholder:"字典状态",clearable:"",style:{width:"240px"}},{default:t(()=>[(c(!0),S(ue,null,pe(i(O),o=>(c(),f(Z,{key:o.dictValue,label:o.dictLabel,value:o.dictValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(h,null,{default:t(()=>[e(m,{type:"primary",onClick:d},{default:t(()=>[e(p,{name:"ele-Search"}),u("搜索 ")]),_:1}),e(m,{onClick:F},{default:t(()=>[e(p,{name:"ele-Refresh"}),u(" 重置 ")]),_:1})]),_:1})]),_:1},8,["model"]),e(J,{gutter:10,class:"mb8"},{default:t(()=>[e(v,{span:1.5},{default:t(()=>[g((c(),f(m,{type:"primary",plain:"",onClick:U},{default:t(()=>[e(p,{name:"ele-Plus"}),u("新增 ")]),_:1})),[[y,"system:dictT:add"]])]),_:1}),e(v,{span:1.5},{default:t(()=>[g((c(),f(m,{type:"danger",plain:"",disabled:i(z),onClick:T},{default:t(()=>[e(p,{name:"ele-Delete"}),u("删除 ")]),_:1},8,["disabled"])),[[y,"system:dictT:delete"]])]),_:1}),e(v,{span:1.5},{default:t(()=>[g((c(),f(m,{type:"warning",plain:"",onClick:W},{default:t(()=>[e(p,{name:"ele-Download"}),u("导出 ")]),_:1})),[[y,"system:dictT:export"]])]),_:1})]),_:1}),g((c(),f(ee,{border:"",data:i($),onSelectionChange:Q},{default:t(()=>[e(_,{type:"selection",align:"center"}),e(_,{label:"编号",align:"center",prop:"dictId",width:"60"}),e(_,{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}),e(_,{label:"字典类型",align:"center","show-overflow-tooltip":!0},{default:t(o=>[e(X,{onClick:C=>D(o.row),type:"primary"},{default:t(()=>[B("span",null,I(o.row.dictType),1)]),_:2},1032,["onClick"])]),_:1}),e(_,{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}),e(_,{label:"状态",align:"center",prop:"status"},{default:t(o=>[e(Y,{type:o.row.status==="1"?"danger":"success","disable-transitions":""},{default:t(()=>[u(I(L(o.row)),1)]),_:2},1032,["type"])]),_:1}),e(_,{label:"操作",align:"center",fixed:"right",width:"280"},{default:t(o=>[e(m,{type:"text",icon:"el-icon-s-tools",onClick:C=>D(o.row)},{default:t(()=>[e(p,{name:"ele-Tools"}),u("字典配置 ")]),_:2},1032,["onClick"]),g((c(),f(m,{type:"text",onClick:C=>K(o.row)},{default:t(()=>[e(p,{name:"ele-Edit"}),u("修改 ")]),_:2},1032,["onClick"])),[[y,"system:dictT:edit"]]),o.row.parentId!=0?g((c(),f(m,{key:0,type:"text",onClick:C=>T(o.row)},{default:t(()=>[e(p,{name:"ele-Delete"}),u("删除 ")]),_:2},1032,["onClick"])),[[y,"system:dictT:delete"]]):me("",!0)]),_:1})]),_:1},8,["data"])),[[le,i(E)]]),g(B("div",null,[e(te),e(ae,{background:"",total:i(x),"current-page":i(s).pageNum,"page-size":i(s).pageSize,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:j,onCurrentChange:A},null,8,["total","current-page","page-size"])],512),[[_e,i(x)>0]])]),_:1}),e(fe,{ref_key:"editModuleRef",ref:w,title:i(R)},null,8,["title"]),e(ge,{ref_key:"dictItemModuleRef",ref:k},null,512)])}}});export{Xe as default};
