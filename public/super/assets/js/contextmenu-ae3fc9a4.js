import{d as p,_ as k,j as y,i as v,Z as L,f as S,ag as V,o,O as I,P as M,Q as b,c as s,K as m,a as c,F as d,a8 as E,V as W,U as $,S as B,W as O,X as j}from"./@vue-110897a1.js";import{_ as D}from"./index-5e2104fc.js";import"./pinia-cd41b998.js";import"./vue-router-17193735.js";import"./vue-i18n-c25bb36f.js";import"./@intlify-d9393dcf.js";import"./vue-cc729cf0.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-ff880098.js";import"./nprogress-28073a82.js";import"./axios-28bc18a3.js";import"./element-plus-28d330eb.js";import"./lodash-es-21c98b27.js";import"./@vueuse-0a258a1c.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-816b3f93.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-72afddb3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";import"./lodash-9a19cd29.js";import"./mitt-f7ef348c.js";import"./@wangeditor-231513dc.js";import"./vue-grid-layout-2853dde1.js";const F={class:"el-dropdown-menu"},N=["onClick"],T=p({name:"layoutTagsViewContextmenu"}),z=p({...T,props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},emits:["currentContextmenuClick"],setup(u,{expose:f,emit:x}){const n=u,_=x,e=k({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),l=y(()=>n.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:n.dropdown.y}:n.dropdown),w=t=>{_("currentContextmenuClick",Object.assign({},{contextMenuClickId:t},e.item))},C=t=>{var a;e.item=t,(a=t.meta)!=null&&a.isAffix?e.dropdownList[1].affix=!0:e.dropdownList[1].affix=!1,r(),setTimeout(()=>{e.isShow=!0},10)},r=()=>{e.isShow=!1};return v(()=>{document.body.addEventListener("click",r)}),L(()=>{document.body.removeEventListener("click",r)}),S(()=>n.dropdown,({x:t})=>{t+117>document.documentElement.clientWidth?e.arrowLeft=117-(document.documentElement.clientWidth-t):e.arrowLeft=10},{deep:!0}),f({openContextmenu:C}),(t,a)=>{const h=V("SvgIcon");return o(),I(j,{name:"el-zoom-in-center"},{default:M(()=>[b((o(),s("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:m(`top: ${l.value.y+5}px;left: ${l.value.x}px;`),key:Math.random()},[c("ul",F,[(o(!0),s(d,null,E(e.dropdownList,(i,g)=>(o(),s(d,null,[i.affix?B("",!0):(o(),s("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:g,onClick:A=>w(i.contextMenuClickId)},[W(h,{name:i.icon},null,8,["name"]),c("span",null,$(t.$t(i.txt)),1)],8,N))],64))),256))]),c("div",{class:"el-popper__arrow",style:m({left:`${e.arrowLeft}px`})},null,4)],4)),[[O,e.isShow]])]),_:1})}}});const fe=D(z,[["__scopeId","data-v-51f55c04"]]);export{fe as default};
