import{d as H,_ as X,e as I,ag as d,o as u,c as y,V as t,P as o,a as r,Q as $,W as ee,J as Ve,K as G,L as Ce,u as a,D as le,S as te,n as ze,h as Fe,$ as Se,i as Ue,Z as qe,aq as Me,T as m,O as v,F as V,a8 as C,U as S,bi as Pe,bg as Re}from"./@vue-110897a1.js";import{_ as ae,g as E,h as Be,i as Ee,l as Ie,k as $e,m as Te}from"./index-5e2104fc.js";import{b as Ye,u as Ae}from"./vue-router-17193735.js";import{a as Ne,D as Oe}from"./uploadinput-3a2798bf.js";import{m as je}from"./@vueuse-0a258a1c.js";import{d as Le}from"./vuedraggable-0eb139d4.js";import{E as oe,a as U}from"./element-plus-28d330eb.js";import{E as Qe}from"./index-1d5872e5.js";import"./pinia-cd41b998.js";import"./vue-i18n-c25bb36f.js";import"./@intlify-d9393dcf.js";import"./vue-cc729cf0.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-ff880098.js";import"./nprogress-28073a82.js";import"./axios-28bc18a3.js";import"./lodash-9a19cd29.js";import"./mitt-f7ef348c.js";import"./@wangeditor-231513dc.js";import"./vue-grid-layout-2853dde1.js";import"./lodash-es-21c98b27.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-816b3f93.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-72afddb3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";const We={style:{"line-height":"0",width:"100%"},class:"flex justify-start"},Je=H({__name:"photo",props:{modelValue:{type:Array,default:()=>[]},width:{default:80},height:{default:80},isMove:{default:!0},limit:{default:0},customer:{type:Object,required:!1,default:()=>{}},contractId:{required:!1,default:""},storageType:{type:String,required:!1,default:""}},emits:["update:modelValue"],setup(c,{emit:g}){const q=c,e=X({isdrag:!1,index:-1}),M=I(),f=je(q,"modelValue",g),P=(_=-1)=>{e.index=_,ze(()=>{M.value.handleStorageDlg("","上传图片")})},T=(_=[])=>{_.length&&(e.index!=-1?f.value[e.index]=_[e.index].url:_.forEach(b=>{f.value.push(b.url)}))},Y=(_=-1)=>{oe({message:"是否删除该文件?",title:"警告",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f.value.splice(_,1)})};return(_,b)=>{const A=d("el-image"),h=d("SvgIcon");return u(),y("div",We,[t(a(Le),Ce({tag:"ul"},{animation:200,disabled:!1,ghostClass:"ghost"},{modelValue:a(f),"onUpdate:modelValue":b[0]||(b[0]=w=>le(f)?f.value=w:null),class:"el-upload-list el-upload-list--picture-card",group:"subform","item-key":"id"}),{item:o(({element:w,index:n})=>[r("li",{class:"el-upload-list__item",style:G(`width:${c.width}px; height:${c.height}px;`)},[t(A,{style:"width:100%; height:100%",src:w,fit:"contain"},null,8,["src"]),$(r("span",{class:Ve({"el-upload-list__item-actions":!0,"diy-cm":c.isMove})},[t(h,{style:{color:"#fff"},name:"ele-Plus",class:"margin-right",onClick:N=>P(n),size:20},null,8,["onClick"]),t(h,{style:{color:"#fff"},name:"ele-Delete",onClick:N=>Y(n),size:20},null,8,["onClick"])],2),[[ee,!e.isdrag]])],4)]),_:1},16,["modelValue"]),c.limit==0||a(f).length==0&&c.limit==1?(u(),y("div",{key:0,tabindex:"0",style:G([{"margin-bottom":"8px"},`width:${c.width}px; height:${c.height}px;`]),class:"el-upload el-upload--picture-card",onClick:b[1]||(b[1]=w=>P(-1))},[t(h,{name:"ele-Plus",size:20})],4)):te("",!0),t(Ne,{ref_key:"storage",ref:M,limit:c.limit,onConfirm:T},null,8,["limit"])])}}});const Ke=ae(Je,[["__scopeId","data-v-25cf0f07"]]);const Ze=c=>(Pe("data-v-b46807a5"),c=c(),Re(),c),Ge={class:"container"},He={class:"el-card is-always-shadow diygw-col-24 admintable-clz"},Xe={class:"el-card__body"},el={class:"mb8"},ll={class:"flex diygw-col-24 input-clz"},tl={class:"flex diygw-col-24 textarea-clz"},al={class:"flex diygw-col-24 checkbox1-clz"},ol={class:"flex diygw-col-24 radio1-clz"},il={class:"flex diygw-col-24 select-clz"},sl={class:"flex diygw-col-24 datepicker-clz"},nl={class:"flex diygw-col-24 switch-clz"},dl={class:"flex diygw-col-24 upload-clz"},rl={class:"flex diygw-col-24 checkbox-clz"},ul={class:"flex diygw-col-24 upload1-clz"},cl={class:"flex diygw-col-24 editor-clz"},ml={class:"flex diygw-col-24 radio-clz"},pl={class:"dialog-footer"},_l=Ze(()=>r("div",{class:"clearfix"},null,-1)),gl=H({name:"index"}),fl=Object.assign(gl,{setup(c){const{proxy:g}=Fe();Ye();const q=Ae();I(q.query);const e=X({tet:"这是皮皮的测试",loading:!0,ids:[],single:!0,multiple:!0,title:"",total:0,tableData:[],sys_menu_type:[],isShowDialog:!1,saveloading:!1,editFormData:{checkbox1Datas:[],radio1Datas:[],selectDatas:[{value:"1",label:"选项一"},{value:"2",label:"选项二"},{value:"3",label:"选项三"}],checkboxDatas:[{value:"1",label:"选项一"},{value:"2",label:"选项二"},{value:"3",label:"选项三"}],radioDatas:[{value:"1",label:"选项一"},{value:"2",label:"选项二"},{value:"3",label:"选项三"}]},queryParams:{pageNum:1,pageSize:10},queryParamsRules:{},editForm:{id:void 0,input:"",textarea:"",checkbox1:["1","1"],radio1:void 0,select:"1",datepicker:"",switched:"1",upload:"",checkbox:["1","1"],upload1:[],editor:"",radio:"1"},editFormRules:{}}),{tet:M,editFormData:x,queryParams:f,multiple:P,tableData:T,loading:Y,title:_,single:b,total:A,isShowDialog:h,sys_menu_type:w,editForm:n,ids:N,saveloading:yl}=Se(e),O=I(null),ie=E(e.editForm),j=s=>{s.id&&s.id!=null&&s.id!=0?e.editForm=Te(s,e.editForm):ne(),e.isShowDialog=!0,e.saveloading=!1},R=s=>{g.mittBus.emit("onEditAdmintableModule",s),e.isShowDialog=!1},se=()=>{const s=a(O);s&&s.validate(i=>{i?(e.saveloading=!0,e.editForm.id!=null&&e.editForm.id!=0?Be("/cms/article",e.editForm).then(()=>{U.success("修改成功"),e.saveloading=!1,R(e.editForm)}).finally(()=>{e.saveloading=!1}):Ee("/cms/article",e.editForm).then(()=>{U.success("新增成功"),e.saveloading=!1,R(e.editForm)}).finally(()=>{e.saveloading=!1})):U.error("验证未通过！")})},ne=()=>{e.editForm=E(ie)};E(e.queryParams);const D=()=>{e.loading=!0,Ie("/cms/article",e.queryParams).then(s=>{e.tableData=s.rows,e.total=s.total,e.loading=!1})},de=s=>{s=[],e.title="添加CRUD表格",j(s)},re=s=>{e.title="修改CRUD表格",j(s)},L=s=>{const i=s.id||e.ids;oe({message:"是否确认删除选中的CRUD表格?",title:"警告",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return $e("/cms/article",i).then(()=>{D(),U.success("删除成功")})})},ue=s=>{e.ids=s.map(i=>i.id),e.single=s.length!=1,e.multiple=!s.length},ce=s=>{e.queryParams.pageSize=s,D()},me=s=>{e.queryParams.pageNum=s,D()},pe=async()=>{};return Ue(async()=>{await pe(),e.sys_menu_type=g.getDict("sys_menu_type"),e.editFormData.checkbox1Datas=g.getDict("sys_menu_type"),e.editFormData.radio1Datas=g.getDict("sys_yes_no"),D(),g.mittBus.on("onEditAdmintableModule",()=>{D()})}),qe(()=>{g.mittBus.off("onEditAdmintableModule")}),(s,i)=>{const z=d("SvgIcon"),k=d("el-button"),F=d("el-table-column"),_e=d("dict-tag"),ge=d("el-table"),fe=d("el-divider"),ye=d("el-pagination"),Q=d("el-input"),p=d("el-form-item"),W=d("el-checkbox"),J=d("el-checkbox-group"),K=d("el-radio"),Z=d("el-radio-group"),be=d("el-option"),he=d("el-select"),ve=d("el-date-picker"),xe=d("el-switch"),we=d("el-form"),ke=d("el-dialog"),De=Me("loading");return u(),y("div",Ge,[r("div",He,[r("div",Xe,[r("div",el,[t(k,{type:"primary",plain:"",onClick:de},{default:o(()=>[t(z,{name:"ele-Plus"}),m("新增 ")]),_:1}),m(),t(k,{type:"danger",plain:"",disabled:e.multiple,onClick:L},{default:o(()=>[t(z,{name:"ele-Delete"}),m("删除 ")]),_:1},8,["disabled"])]),$((u(),v(ge,{onSelectionChange:ue,data:e.tableData,stripe:"",border:"","current-row-key":"id","empty-text":"没有数据",style:{width:"100%"}},{default:o(()=>[t(F,{type:"selection",width:"55",align:"center"}),t(F,{label:"表名",prop:"input",align:"center"}),t(F,{label:"多选",prop:"checkbox1",align:"center"},{default:o(l=>[t(_e,{options:a(w),value:l.row.checkbox1},null,8,["options","value"])]),_:1}),t(F,{label:"操作",align:"center",fixed:"right",width:"180"},{default:o(l=>[t(k,{type:"primary",plain:"",size:"small",onClick:B=>re(l.row)},{default:o(()=>[t(z,{name:"ele-Edit"}),m("修改 ")]),_:2},1032,["onClick"]),m(),l.row.id!=0?(u(),v(k,{key:0,type:"danger",plain:"",size:"small",onClick:B=>L(l.row)},{default:o(()=>[t(z,{name:"ele-Delete"}),m("删除 ")]),_:2},1032,["onClick"])):te("",!0)]),_:1})]),_:1},8,["data"])),[[De,e.loading]]),$(r("div",null,[t(fe),m(),t(ye,{background:"",total:e.total,"current-page":e.queryParams.pageNum,"page-size":e.queryParams.pageSize,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ce,onCurrentChange:me},null,8,["total","current-page","page-size"])],512),[[ee,e.total>0]])]),t(ke,{modelValue:a(h),"onUpdate:modelValue":i[12]||(i[12]=l=>le(h)?h.value=l:null),"destroy-on-close":"",width:"800px",title:"CRUD表格",draggable:"",center:""},{footer:o(()=>[r("div",pl,[t(k,{onClick:R},{default:o(()=>[m(" 取 消 ")]),_:1}),m(),t(k,{type:"primary",onClick:se,loading:e.saveloading},{default:o(()=>[m(" 保 存 ")]),_:1},8,["loading"])])]),default:o(()=>[t(we,{class:"flex flex-direction-row flex-wrap",model:e.editForm,rules:e.editFormRules,ref_key:"editFormRef",ref:O,"label-width":"80px"},{default:o(()=>[r("div",ll,[t(p,{rules:[{required:!0,trigger:"blur",message:"不能为空哟"}],class:"diygw-el-rate",prop:"input",label:"单行输入"},{default:o(()=>[t(Q,{type:"text",placeholder:"请输入提示",modelValue:a(n).input,"onUpdate:modelValue":i[0]||(i[0]=l=>a(n).input=l)},null,8,["modelValue"])]),_:1})]),r("div",tl,[t(p,{prop:"textarea",class:"diygw-el-rate",label:"多行输入"},{default:o(()=>[t(Q,{type:"textarea",rows:"3",placeholder:"请输入提示",modelValue:a(n).textarea,"onUpdate:modelValue":i[1]||(i[1]=l=>a(n).textarea=l)},null,8,["modelValue"])]),_:1})]),r("div",al,[t(p,{prop:"checkbox1",class:"diygw-el-rate",label:"多选"},{default:o(()=>[t(J,{modelValue:a(n).checkbox1,"onUpdate:modelValue":i[2]||(i[2]=l=>a(n).checkbox1=l)},{default:o(()=>[(u(!0),y(V,null,C(a(x).checkbox1Datas,(l,B)=>(u(),v(W,{label:l.value},{default:o(()=>[m(S(l.label),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),r("div",ol,[t(p,{prop:"radio1",class:"diygw-el-rate",label:"单选"},{default:o(()=>[t(Z,{modelValue:a(n).radio1,"onUpdate:modelValue":i[3]||(i[3]=l=>a(n).radio1=l)},{default:o(()=>[(u(!0),y(V,null,C(a(x).radio1Datas,l=>(u(),v(K,{key:l.value,label:l.value},{default:o(()=>[m(S(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),r("div",il,[t(p,{prop:"select",class:"diygw-el-rate",label:"下拉"},{default:o(()=>[t(he,{"clear-icon":"CircleClose","suffix-icon":"ArrowUp",placeholder:"请选择",modelValue:a(n).select,"onUpdate:modelValue":i[4]||(i[4]=l=>a(n).select=l),style:{width:"100% !important"}},{default:o(()=>[(u(!0),y(V,null,C(a(x).selectDatas,l=>(u(),v(be,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),r("div",sl,[t(p,{prop:"datepicker",class:"diygw-el-rate",label:"日期"},{default:o(()=>[t(ve,{format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","clear-icon":"CircleClose","prefix-icon":"Calendar",clearable:"",editable:"",placeholder:"请选择日期",modelValue:a(n).datepicker,"onUpdate:modelValue":i[5]||(i[5]=l=>a(n).datepicker=l)},null,8,["modelValue"])]),_:1})]),r("div",nl,[t(p,{prop:"switched",class:"diygw-el-rate",label:"开关"},{default:o(()=>[t(xe,{"active-value":"1","inactive-value":"0","inline-prompt":"",modelValue:a(n).switched,"onUpdate:modelValue":i[6]||(i[6]=l=>a(n).switched=l)},null,8,["modelValue"])]),_:1})]),r("div",dl,[t(p,{prop:"upload",class:"diygw-el-rate",label:"上传"},{default:o(()=>[t(Oe,{modelValue:a(n).upload,"onUpdate:modelValue":i[7]||(i[7]=l=>a(n).upload=l),title:"上传"},null,8,["modelValue"])]),_:1})]),r("div",rl,[t(p,{prop:"checkbox",class:"diygw-el-rate",label:"多选"},{default:o(()=>[t(J,{modelValue:a(n).checkbox,"onUpdate:modelValue":i[8]||(i[8]=l=>a(n).checkbox=l)},{default:o(()=>[(u(!0),y(V,null,C(a(x).checkboxDatas,(l,B)=>(u(),v(W,{label:l.value},{default:o(()=>[m(S(l.label),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),r("div",ul,[t(p,{prop:"upload1",class:"diygw-el-rate",label:"上传"},{default:o(()=>[t(Ke,{modelValue:a(n).upload1,"onUpdate:modelValue":i[9]||(i[9]=l=>a(n).upload1=l)},null,8,["modelValue"])]),_:1})]),r("div",cl,[t(p,{prop:"editor",class:"diygw-el-rate",label:"多行输入"},{default:o(()=>[t(Qe,{modelValue:a(n).editor,"onUpdate:modelValue":i[10]||(i[10]=l=>a(n).editor=l)},null,8,["modelValue"])]),_:1})]),r("div",ml,[t(p,{prop:"radio",class:"diygw-el-rate",label:"单选"},{default:o(()=>[t(Z,{modelValue:a(n).radio,"onUpdate:modelValue":i[11]||(i[11]=l=>a(n).radio=l)},{default:o(()=>[(u(!0),y(V,null,C(a(x).radioDatas,l=>(u(),v(K,{key:l.value,label:l.value},{default:o(()=>[m(S(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])]),_l])}}}),Wl=ae(fl,[["__scopeId","data-v-b46807a5"]]);export{Wl as default};
